<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

{% load mservetags %}
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<link type="text/css" href="/mservemedia/css/smoothness/jquery-ui-1.8.6.custom.css" rel="stylesheet" />
<link type="text/css" href="/mservemedia/css/mserve.css" rel="stylesheet" />
{% block script %}{% endblock %}
<script type="text/javascript" src="/mservemedia/js/jquery-1.4.3.js" ></script>
<script type="text/javascript" src="/mservemedia/js/jquery.html5-fileupload.js" ></script>
<script type="text/javascript" src="/mservemedia/js/jquery-ui-1.8.6.custom.min.js" ></script>
<script type="text/javascript" src="/mservemedia/js/jquery.pagination.js" ></script>
<script type="text/javascript" src="/mservemedia/js/jquery.tmpl.js" ></script>
<script type="text/javascript" src="/mservemedia/js/base.js" ></script>
<script type="text/javascript" src="/mservemedia/js/service.js" ></script>
<script type="text/javascript" src="/mservemedia/js/uploader.js" ></script>
<script type="text/javascript" src="/mservemedia/js/mserve.js" ></script>
<script type="text/javascript" src="/mservemedia/js/ui.js" ></script>

<script type="text/javascript">

     function setManagementPropertyAccessSpeed(service){
        var speed = prompt("What speed do you wish to set access", "");
         $.ajax({
           type: "PUT",
           data: "property=accessspeed&value="+speed,
           url: '/serviceapi/managementproperty/'+service+'/',
           success: function(msg){
             showMessage("Property Set", "Property 'accessspeed' set to "+speed);
             $(".accesspeed").html(speed)
           },
           error: function(msg){
             showError("Error", ""+msg.responseText );
           }
         });
     }

     function addauth(){
         $.ajax({
           type: "POST",
           data: "name=newmonitorauth&roles=8b57f3b2-a8ec-4f08-a920-6cd016b22b90",
           url: '/authority/addauth/820e9b0e-fd19-4fa7-b63e-f6d6c716d472/',
           success: function(msg){
             alert( "POST " +msg + "'\nStatus: '" + msg.status+"'\nResponse Text:\n" +msg.responseText   );
           },
           error: function(msg){
             alert( "Failure On POST " + "'\nStatus: '" + msg.status+"'\nResponse Text:\n" +msg.responseText );
           }
         });
     }

    function getorcreateauth(){
         $.ajax({
           type: "POST",
           data: "name=newmonitorauth&roles=8b57f3b2-a8ec-4f08-a920-6cd016b22b90",
           url: '/authority/getorcreateauth/820e9b0e-fd19-4fa7-b63e-f6d6c716d472/',
           success: function(msg){
             alert( "POST " +msg  );
           },
           error: function(msg){
             alert( "Failure On POST " + "'\nStatus: '" + msg.status+"'\nResponse Text:\n" +msg.responseText );
           }
         });
     }

     function putroles(){
         $.ajax({
           type: "PUT",
           data: "roles=8b57f3b2-a8ec-4f08-a920-6cd016b22b90,2ebecd1d-a0c6-4374-ab2c-435902dc4bd9",
           url: '/authority/setroles/f3b4adc3-f198-4c3b-aa97-12519446852b/',
           success: function(msg){
             alert( "PUT " +msg  );
           },
           error: function(msg){
             alert( "Failure On PUT " + "'\nStatus: '" + msg.status+"'\nResponse Text:\n" +msg.responseText );
           }
         });
     }

     function poplulate_methods(roleid, methods){
           $('.methods'+roleid).empty()
           $.each(methods, function(i,item){
                id = $("<a href='#'>"+item+"&nbsp;</a>&nbsp;")
                $(id).appendTo('.methods'+roleid);
           });
     }

     function addAuthMethod(roleid){
        var methods = prompt("What methods do you wish to add\nComma separated", "");
        if (methods == null)
            return;
        if (methods == "")
            return;
        $.ajax({
           type: "PUT",
           url: '/roles/'+roleid+"/",
           data: "methods="+methods,
           success: function(msg){
               poplulate_methods(roleid,msg["methods"])
           },
           error: function(msg){
             alert( "Failure to add methods '" + methods + "'\nStatus: '" + msg.status+ "'\nResponse Text:\n" + msg.responseText);
           }
         });
     }

</script>

<style type="text/css">

</style>

<!--<link rel="stylesheet" href="style.css" />-->
<title>{% block title %}MServe{% endblock %}</title>
</head>

<body id="wrapper">

  {% include "templates_inc.html" %}

  <div class="main">
  <div class="header">
    <div class="header_resize">
      <div class="logo">
        <h1><a href="/"><span>M</span>Serve</a><small> serving your needs</small></h1>
      </div>
      <div class="menu_nav">
        <ul>
            {% if user.is_staff %}
            <li><a href="/">Home</a></li>
            <li><a href="/admin/">Admin</a></li>
            <li><a href="/usage/">Usage</a></li>
            <li><a href="/map/">Map</a></li>
            <li><a href="/viz/">Vizualizations</a></li>

            {% endif %}

            {% if user.is_authenticated %}
            <li><a href="/accounts/profile/">Profile</a></li>
            <li><a href="/accounts/logout/">Logout</a></li>
            {% endif %}

            {% if not user.is_authenticated %}
            <li><a href="/accounts/login/">Login</a></li>
            {% endif %}

        </ul>
        <div class="clr"></div>
      </div>
      <div class="clr"></div>
      <div class="header_img">
        <img src="/mservemedia/images/main_img.png" alt="" width="298" height="233" />
        <h2>jobs <span>data</span> storage</h2>
        <p>

        {% block usages %}{% endblock %}


        </p>
        <div class="clr"></div>
      </div>
    </div>
  </div>
    {% block heading %}{% endblock %}
    <table id="maintable" >
        <tr>
            
            <th id="sidebar"  rowspan="3" >
                <!--
                {% block sidebar %}
                {% if user.is_staff %}
                    <div><a href="/">Home</a></div>
                    <div><a href="/admin/">Admin</a></div>
                    <div><a href="/usage/">Usage</a></div>
                    <div><a href="/map/">Map</a></div>
                    <div><a href="/viz/">Vizualizations</a></div>

                {% endif %}

                {% if user.is_authenticated %}
                <div><a href="/accounts/profile/">Profile</a></div>
                <div><a href="/accounts/logout/">Logout</a></div>
                {% endif %}

                {% if not user.is_authenticated %}
                    <div><a href="/accounts/login/">Login</a></div>
                {% endif %}

                {% endblock %}
                    -->
            </th>
            
            <td >
                {% block content %}{% endblock %}
            </td >

            </tr><tr>

            <td width="*">
                {% block rightcontent %}

                {% endblock %}

            </td>
        </tr>
        <tr>
            <td colspan="2">
                {% block bottomcontent %}
                {% endblock %}
            </td>
        </tr>

    </table>
    
    <div class="fbg">
    <div class="fbg_resize">
      <div class="col c1">
        <h2><span>Image Gallery</span></h2>
        <a href="#"><img src="/mservemedia/images/gallery_1.jpg" width="58" height="58" alt="" /></a>
        <a href="#"><img src="/mservemedia/images/gallery_2.jpg" width="58" height="58" alt="" /></a>
        <a href="#"><img src="/mservemedia/images/gallery_3.jpg" width="58" height="58" alt="" /></a>
        <a href="#"><img src="/mservemedia/images/gallery_4.jpg" width="58" height="58" alt="" /></a>
        <a href="#"><img src="/mservemedia/images/gallery_5.jpg" width="58" height="58" alt="" /></a>
        <a href="#"><img src="/mservemedia/images/gallery_6.jpg" width="58" height="58" alt="" /></a> </div>
      <div class="col c2">
        <h2><span>Mserve Systems</span></h2>
        <p>Mserve is written in <a href="http://python.org">python.</a> using the <a href="http://www.djangoproject.com/">django.</a> framework.
          Fronted by <a href="http://www.lighttpd.net/">lighttpd.</a>,
          Using <a href="http://celeryproject.org/">celery.</a> and <a href="http://www.rabbitmq.com/">rabbitmq</a> for job submission.
          Client side GUI is <a href="http://jquery.com/">jquery</a> and <a href="http://jqueryui.com/">jquery ui</a> </p>
      </div>
      <div class="col c3">
        <h2><span>Contact</span></h2>
        <p>For more information on mserve contact.<a href="#">mm@it-innovation.soton.ac.uk</a><br />
        </p>
      </div>
      <div class="clr"></div>
    </div>
    <div class="footer">
      <p class="lf">&copy; Copyright <a href="http://www.it-innovation.soton.ac.uk">IT Innovation</a>.</p>
      <p class="rf">Layout by Free <a href="http://www.freewebsitetemplatez.com/">Website Templates</a></p>
      <div class="clr"></div>
    </div>
  </div>

  </div>
</body>
</html>